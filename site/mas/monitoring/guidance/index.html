<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ibm-mas.github.io/mas-performance/mas/monitoring/guidance/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Monitoring - Maximo Application Suite (MAS) Performance Wiki</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Monitoring";
        var mkdocs_page_input_path = "mas/monitoring/guidance.md";
        var mkdocs_page_url = "/mas-performance/mas/monitoring/guidance/";
      </script>
    
    <script src="../../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> Maximo Application Suite (MAS) Performance Wiki
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">MAS</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="#">Best Practice</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../ocp/bestpractice/">OpenShift Container Platform</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../core/bestpractice/">MAS Core</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../iot/bestpractice/">MAS IoT</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manage/bestpractice/">MAS Manage</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../aws/bestpractice/">AWS</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../ibmcloud/bestpractice/">IBM Cloud</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../mongodb/bestpractice/">MongoDB</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../sizing/guidance/">Sizing Guidance</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Monitoring</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#openshift-monitoring-service-promethusgrafana">OpenShift Monitoring Service (Promethus/Grafana)</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Maximo 7.x</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../maximo-7/bestpractice/">Best Practice</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Performance Diagnosis</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../pd/ptbp/">Performance Test Best Practice</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../pd/checklist/">Diagnosis Check List</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../pd/db2-performance-diagnosis/">DB2 Performance Diagnosis</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">Maximo Application Suite (MAS) Performance Wiki</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>MAS &raquo;</li>
      <li>Monitoring</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ibm-mas/mas-performance/blob/master/docs/mas/monitoring/guidance.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="monitoring">Monitoring<a class="headerlink" href="#monitoring" title="Permanent link"></a></h1>
<p>Monitoring your OpenShift clusters is critical for the environment health, the quality of services. It helps ensure that all deployed workloads are running smoothly and that the environment is properly scoped. </p>
<h2 id="openshift-monitoring-service-promethusgrafana">OpenShift Monitoring Service (Promethus/Grafana)<a class="headerlink" href="#openshift-monitoring-service-promethusgrafana" title="Permanent link"></a></h2>
<p>OpenShift Container Platform includes a pre-installed monitoring stack that is based on the Prometheus/Grafana. <strong>MAS</strong> also provides app-level promethus metrics and a set of Grafana dashboards for application health. More installation, configuration details can be found in <a href="https://www.ibm.com/docs/en/mas-cd/continuous-delivery?topic=monitoring-configuring-red-hat-openshift-cluster">IBM MAS Monitoring</a></p>
<div class="admonition tip">
<p class="admonition-title">Best practice for OpenShift Monitoring Service</p>
<ul>
<li>enable User Workload: <code>enableUserWorkload: false</code></li>
<li>consider to increase the promethus retention policy whose default value is 24h and add persistent volumes</li>
<li>consider to change Alert Manager's storage class and size</li>
</ul>
</div>
<p>Below is the sample for configmap cluster-monitoring-config</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span><span class="w"></span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ConfigMap</span><span class="w"></span>
<span class="nt">metadata</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cluster-monitoring-config</span><span class="w"></span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openshift-monitoring</span><span class="w"></span>
<span class="nt">data</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">config.yaml</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">    </span><span class="no">enableUserWorkload: true</span><span class="w"></span>
<span class="w">    </span><span class="no">prometheusK8s:</span><span class="w"></span>
<span class="w">      </span><span class="no">retention: 90d</span><span class="w"></span>
<span class="w">      </span><span class="no">volumeClaimTemplate:</span><span class="w"></span>
<span class="w">        </span><span class="no">spec:</span><span class="w"></span>
<span class="w">          </span><span class="no">storageClassName: nfs-client</span><span class="w"></span>
<span class="w">          </span><span class="no">resources:</span><span class="w"></span>
<span class="w">            </span><span class="no">requests:</span><span class="w"></span>
<span class="w">              </span><span class="no">cpu: 200m</span><span class="w"></span>
<span class="w">              </span><span class="no">storage: 300Gi</span><span class="w"></span>
<span class="w">              </span><span class="no">memory: 2Gi</span><span class="w"></span>
<span class="w">            </span><span class="no">limits:</span><span class="w"></span>
<span class="w">              </span><span class="no">cpu: 2</span><span class="w"></span>
<span class="w">              </span><span class="no">memory: 4Gi</span><span class="w"></span>
<span class="w">    </span><span class="no">alertmanagerMain:</span><span class="w"></span>
<span class="w">      </span><span class="no">volumeClaimTemplate:</span><span class="w"></span>
<span class="w">        </span><span class="no">spec:</span><span class="w"></span>
<span class="w">          </span><span class="no">storageClassName: nfs-client</span><span class="w"></span>
<span class="w">          </span><span class="no">resources:</span><span class="w"></span>
<span class="w">            </span><span class="no">requests:</span><span class="w"></span>
<span class="w">              </span><span class="no">storage: 20Gi</span><span class="w"></span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>Except OpenShift Monitoring Service (Promethus/Grafana), there are other paid solutions like  <strong>IBM Instana</strong>, <strong>New Relic</strong>, <strong>Data Dog</strong> that also support OCP. </li>
<li>If the cluster is cloud based, consider to use cloud provider's monitoring tool for additional info like network, disk, managed services. e.g. AWS CloudWatch, IBM Log Analysis...</li>
</ul>
</div>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ibm-mas/mas-performance" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../../sizing/guidance/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../../maximo-7/bestpractice/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme_extra.js" defer></script>
    <script src="../../../js/theme.js" defer></script>
      <script src="../../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
